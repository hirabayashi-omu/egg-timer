<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Mind Map - Creative Flow</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div id="app">
        <!-- Shared SVG Defs -->
        <svg style="position: absolute; width: 0; height: 0; overflow: hidden;">
            <defs>
                <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8"
                    orient="auto">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#94a3b8" />
                </marker>
                <marker id="arrow-relation" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8"
                    orient="auto">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#a78bfa" />
                </marker>
                <marker id="arrow-drag" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8"
                    orient="auto">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#fbbf24" />
                </marker>
                <marker id="arrow-selected" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8"
                    orient="auto">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#8b5cf6" />
                </marker>
                <!-- Print Markers -->
                <marker id="arrow-print" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8"
                    orient="auto">
                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#333333" />
                </marker>
            </defs>
        </svg>

        <div id="toolbar">
            <div class="logo">MindMap <span class="highlight">Pro</span></div>
            <div class="actions">
                <button id="undo-btn" title="Undo (Ctrl+Z)"><i class="fas fa-undo"></i></button>
                <button id="redo-btn" title="Redo (Ctrl+Y)"><i class="fas fa-redo"></i></button>
                <div class="divider"></div>
                <button id="add-child-btn" title="Add Child (Tab)"><i class="fas fa-level-down-alt"></i><span
                        class="btn-text"> Child</span></button>
                <button id="add-sibling-btn" title="Add Sibling (Enter)"><i class="fas fa-plus"></i><span
                        class="btn-text"> Sibling</span></button>
                <button id="add-image-btn" title="Add Image Frame"><i class="fas fa-image"></i><span class="btn-text">
                        Image</span></button>
                <button id="delete-btn" title="Delete Node (Del)"><i class="fas fa-trash"></i><span class="btn-text">
                        Delete</span></button>
                <div class="divider"></div>
                <button id="move-up-btn" title="Move Up (Alt+Up)"><i class="fas fa-arrow-up"></i></button>
                <button id="move-down-btn" title="Move Down (Alt+Down)"><i class="fas fa-arrow-down"></i></button>
                <div class="divider"></div>
                <button id="clear-all-btn" title="Clear All" style="color: #ef4444;"><i class="fas fa-bomb"></i><span
                        class="btn-text"> Clear</span></button>
                <button id="export-btn" title="Save JSON"><i class="fas fa-download"></i><span class="btn-text">
                        Save</span></button>
                <button id="import-btn-trigger" title="Load JSON"><i class="fas fa-upload"></i><span class="btn-text">
                        Load</span></button>
                <div class="divider"></div>
                <button id="export-pdf-btn" title="Export PDF"><i class="fas fa-file-pdf"></i><span class="btn-text">
                        PDF</span></button>
                <input type="file" id="import-input" accept=".json" style="display: none;">
                <input type="file" id="image-upload-input" accept="image/*" style="display: none;">
            </div>
        </div>

        <div id="canvas-container">
            <svg id="grid-layer"></svg>
            <div id="images-layer"></div>
            <svg id="connections-layer"></svg>
            <div id="nodes-layer"></div>
            <svg id="foreground-layer"></svg>
        </div>

        <div id="controls">
            <button id="center-btn" title="Reset View"><i class="fas fa-compress-arrows-alt"></i></button>
            <div class="zoom-controls">
                <button id="zoom-out"><i class="fas fa-minus"></i></button>
                <span id="zoom-level">100%</span>
                <button id="zoom-in"><i class="fas fa-plus"></i></button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>